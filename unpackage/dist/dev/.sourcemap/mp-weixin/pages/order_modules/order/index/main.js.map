{"version":3,"sources":["uni-app:///main.js","webpack:////Users/zlz/Desktop/gooci/redfish/pages/order_modules/order/index/main.vue?6a8a","webpack:////Users/zlz/Desktop/gooci/redfish/pages/order_modules/order/index/main.vue?ca58","webpack:////Users/zlz/Desktop/gooci/redfish/pages/order_modules/order/index/main.vue?3924","webpack:////Users/zlz/Desktop/gooci/redfish/pages/order_modules/order/index/main.vue?08e6","uni-app:///pages/order_modules/order/index/main.vue","webpack:////Users/zlz/Desktop/gooci/redfish/pages/order_modules/order/index/main.vue?eea7","webpack:////Users/zlz/Desktop/gooci/redfish/pages/order_modules/order/index/main.vue?061c"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,+G;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACsC;;;AAGzF;AACsN;AACtN,gBAAgB,iNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAg2B,CAAgB,kyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwEp3B;AACA;AACA,mE;;;AAGA;AACA,MADA,kBACA;AACA;AACA,mBADA;AAEA,oBAFA;AAGA,sBAHA;AAIA,+CAJA;AAKA,mBALA,EAKA;AACA,iBANA,EAMA;AACA,gBAPA;AAQA,mBARA,EAQA;AACA,aATA,EASA;AACA,cAVA,EAUA;AACA,cAXA;AAYA,kBAZA,EAYA;AACA,yBAbA,EAaA;AACA;AACA,iGAfA;AAgBA,0FAhBA;;AAkBA,GApBA;AAqBA;AACA,aADA,uBACA;AACA;AACA;AACA,KAJA,EArBA;;AA2BA;AACA,8BADA;AAEA,8BAFA,EA3BA;;AA+BA,QA/BA,oBA+BA;AACA;AACA,+CADA;;AAGA;AACA,2BADA,EACA;AACA,kDAFA;;;AAKA;AACA;;AAEA;AACA,aADA;AAEA,cAFA;AAGA,qBAHA;;AAKA;AACA;AACA,KAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAHA,MAGA;AACA;AACA;AACA;;AAEA;AACA,GA/DA;;AAiEA,QAjEA,oBAiEA;AACA;AACA,GAnEA;AAoEA,eApEA,2BAoEA;AACA;AACA;AACA,GAvEA;AAwEA,WAxEA,uBAwEA;AACA;AACA,GA1EA;AA2EA,SA3EA,qBA2EA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAhGA;AAiGA;AACA,WADA,mBACA,GADA,EACA;AACA;AACA;AACA,KAJA,EAjGA;;AAuGA;AACA,iBADA,yBACA,OADA,EACA;AACA;AACA,uBADA;AAEA,uBAFA;AAGA,uBAHA;;;AAMA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAJA;AAKA,eANA;AAOA,aARA;AASA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAxBA;AAyBA,KA9CA;AA+CA,cA/CA,sBA+CA,IA/CA,EA+CA,KA/CA,EA+CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAxDA;AAyDA,OAzDA,eAyDA,KAzDA,EAyDA;AACA;AACA;AACA,oCADA;AAEA,gDAFA;;AAIA,KA/DA;AAgEA,YAhEA,oBAgEA,KAhEA,EAgEA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA,KAvEA;AAwEA,oBAxEA,4BAwEA,KAxEA,EAwEA;AACA;AACA,qDADA;AAEA,qDAFA;AAGA,qDAHA;AAIA,0CAJA;AAKA,uCALA;AAMA,mCANA;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA,KAvFA;AAwFA,kBAxFA,0BAwFA,KAxFA,EAwFA;AACA;AACA;AACA;AACA,uBAFA;AAGA,eAHA,mBAGA,GAHA,EAGA;AACA;AACA;AACA,sDADA;;AAGA,gBAHA,CAGA;AACA;AACA;AACA;AACA,aAPA;AAQA,gBARA,CAQA;AACA;AACA;AACA,aAXA;AAYA,WAbA,MAaA;AACA;AACA,SAnBA;;AAqBA,KA/GA;AAgHA,eAhHA,uBAgHA,KAhHA,EAgHA;AACA;AACA;AACA;AACA,uBAFA;AAGA,eAHA,mBAGA,GAHA,EAGA;AACA;AACA;AACA,gBADA,CACA;AACA;AACA;AACA;AACA,aALA;AAMA,gBANA,CAMA;AACA;AACA;AACA,aATA;AAUA,WAXA,MAWA;AACA;AACA,SAjBA;;AAmBA,KArIA;AAsIA,oBAtIA,4BAsIA,KAtIA,EAsIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA;AACA,sCADA;AAEA,wCAFA;;;AAKA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA,OANA;AAOA,KA1JA;AA2JA,eA3JA,uBA2JA,KA3JA,EA2JA;AACA;AACA,gDADA;AAEA,qDAFA;AAGA,qDAHA;;AAKA;AACA;AACA;AACA;AACA,OAJA;AAKA,KAtKA;AAuKA,YAvKA,sBAuKA;AACA;AACA,KAzKA;AA0KA,YA1KA,sBA0KA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAlLA,EAvGA,E;;;;;;;;;;;;AC7EA;AAAA;AAAA;AAAA;AAA+kD,CAAgB,05CAAG,EAAC,C;;;;;;;;;;;ACAnmD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/order_modules/order/index/main.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/order_modules/order/index/main.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./main.vue?vue&type=template&id=afa1036e&scoped=true&\"\nvar renderjs\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=afa1036e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"afa1036e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order_modules/order/index/main.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=template&id=afa1036e&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"","<template>\r\n\t<div class=\"orderList\">\r\n\t\t<commonHeader :title=\"title\" :leftIcon=\"leftIcon\" :rightIcon=\"rightIcon\" />\r\n\t\t<div class=\"orderList-save\" @click=\"toSearch\"><i class=\"iconfont\">&#xe613;</i></div>\r\n\t\t<div class=\"orderList-tit\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li v-for=\"(item, index) in items\" :key=\"index\" @click=\"orderTitle(item, index)\">\r\n\t\t\t\t\t<a :class=\"current === index ? 'active' : ''\" :style=\"{ color: current === index ? baseColor : '' }\">\r\n\t\t\t\t\t\t{{ item }}\r\n\t\t\t\t\t\t<span :style=\"{ background: baseColor }\"></span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t<div class=\"orderList-info\" v-if=\"orderList.length > 0\">\r\n\t\t\t<ol>\r\n\t\t\t\t<li v-for=\"(order, index) in orderList\" :key=\"index\">\r\n\t\t\t\t\t<a>\r\n\t\t\t\t\t\t<div class=\"order-status\">\r\n\t\t\t\t\t\t\t<div>订单编号：{{ order.contractBillcode }}</div>\r\n\t\t\t\t\t\t\t<div v-if=\"order.dataState == -1\">已取消</div>\r\n\t\t\t\t\t\t\t<div v-else-if=\"order.dataState == 1\">待付款</div>\r\n\t\t\t\t\t\t\t<div v-else-if=\"order.dataState == 2\">待发货</div>\r\n\t\t\t\t\t\t\t<div v-else-if=\"order.dataState == 3\">待收货</div>\r\n\t\t\t\t\t\t\t<div v-else-if=\"order.dataState == 4\">交易成功</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"order-msg\" v-for=\"(goods, goodsIndex) in order.goodsList\" :key=\"goodsIndex\" @click=\"orderDetail(order)\">\r\n\t\t\t\t\t\t\t<img :src=\"goods.dataPic || userImgurl\" />\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<p class=\"currentP\">{{ goods.goodsName }}</p>\r\n\t\t\t\t\t\t\t\t\t<h6>{{ goods.skuName }}</h6>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div style=\"text-align:right;\">\r\n\t\t\t\t\t\t\t\t\t<p style=\"width:160rpx;\">{{ unitPrice.obpay }}{{ goods.pricesetNprice }}{{ unitPrice.mapay }}</p>\r\n\t\t\t\t\t\t\t\t\t<h6>x{{ goods.goodsNum }}</h6>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"order-btn\">\r\n\t\t\t\t\t\t\t<div class=\"left\">\r\n\t\t\t\t\t\t\t\t实付:\r\n\t\t\t\t\t\t\t\t<i :style=\"{ color: '#d66377' }\">{{ unitPrice.obpay }}{{ order.dataBmoney }}{{ unitPrice.mapay }}</i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"right\" v-if=\"order.dataState == 1\">\r\n\t\t\t\t\t\t\t\t<div class=\"btn\" @click=\"cancelOrder(order)\">取消订单</div>\r\n\t\t\t\t\t\t\t\t<div class=\"btn\" @click=\"pay(order)\" :style=\"{ borderColor: baseColor, color: baseColor }\">立即支付</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"right\" v-else-if=\"order.dataState == 2\">\r\n\t\t\t\t\t\t\t\t<!-- <span @click=\"refundMoney(order)\">申请退款</span> -->\r\n\t\t\t\t\t\t\t\t<!-- <span @click=\"addShoppingGoods(order)\">再次购买</span> -->\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"right\" v-else-if=\"order.dataState == 3\">\r\n\t\t\t\t\t\t\t\t<div class=\"btn\" @click=\"queryExpressInfo(order)\">查看物流</div>\r\n\t\t\t\t\t\t\t\t<div class=\"btn\" @click=\"confirmReceive(order)\" :style=\"{ borderColor: baseColor, color: baseColor }\">确认收货</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"right\" v-else-if=\"order.dataState == 4\">\r\n\t\t\t\t\t\t\t\t<div v-if=\"order.contractAppraise == 1\"><!-- <span>已评价</span> --></div>\r\n\t\t\t\t\t\t\t\t<div class=\"btn\" v-else @click=\"evaluate(order.goodsList)\" :style=\"{ borderColor: baseColor, color: baseColor }\">去评价</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</li>\r\n\t\t\t</ol>\r\n\t\t</div>\r\n\t\t<div class=\"orderList-nulls\" v-else><img :src=\"nullImg\" /></div>\r\n\t\t<lastPageLine :lastPageLine=\"lastPageLine\" />\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport http from '@/api/http.js';\r\nimport { $storage, $router, $message } from '@/utils/prototype/vue.js';\r\nimport { myOrder, refund, addShoppingGoods, addShoppingGoodsBySpec } from '@/api/interface.js';\r\nimport commonHeader from '@/components/communal/commonHeader';\r\nimport lastPageLine from '@/components/communal/last-page-line';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttitle: '我的订单',\r\n\t\t\tleftIcon: true,\r\n\t\t\trightIcon: false,\r\n\t\t\titems: ['全部', '待付款', '待发货', '待收货', '待评价'],\r\n\t\t\torderList: [], //订单列表\r\n\t\t\tmyOrder: [], //菜单--》订单搜索路径\r\n\t\t\tcurrent: 0,\r\n\t\t\tbaseColor: '', //颜色\r\n\t\t\tpage: 1, //分页\r\n\t\t\ttotal: 0, //列表数据总数\r\n\t\t\trows: 10,\r\n\t\t\tdataState: 1, //table切换接口标示\r\n\t\t\tlastPageLine: false, //底部提示\r\n\t\t\t//dataState//已取消（-1），初始化（0），待付款（1），待发货（2），待收货（3），成功（4）\r\n\t\t\tuserImgurl: this.$imgDomain + '/paas/shop-master/c-static/images/wxminiImg/img_default.jpg',\r\n\t\t\tnullImg: this.$imgDomain + '/paas/shop-master/c-static/images/wxminiImg/noOrder.png'\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tunitPrice() {\r\n\t\t\t// mapay 主单位（后面）  mbpay 主单位（前面）  obpay 辅单位（前面）   oapay 辅单位（后面）\r\n\t\t\treturn this.$state.unitPrice || $storage.get('unitPrice');\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tcommonHeader,\r\n\t\tlastPageLine\r\n\t},\r\n\tonLoad() {\r\n\t\twx.setNavigationBarTitle({\r\n\t\t\ttitle: $storage.get('proappEnvName')\r\n\t\t});\r\n\t\twx.setNavigationBarColor({\r\n\t\t\tfrontColor: '#ffffff', // 必写项\r\n\t\t\tbackgroundColor: '#' + this.$state.baseColor\r\n\t\t});\r\n\t\t\r\n\t\tthis.baseColor = '#' + this.$state.baseColor;\r\n\t\tlet data = this.$root.$mp.query;\r\n\t\t\r\n\t\tlet params = {\r\n\t\t\tpage: 1,\r\n\t\t\trows: 10,\r\n\t\t\tchildFlag: true\r\n\t\t};\r\n\t\tif (data.dataState == 0) {\r\n\t\t\tdelete params.dataState;\r\n\t\t} else {\r\n\t\t\tthis.dataState = data.dataState;\r\n\t\t\tparams.dataState = this.dataState;\r\n\t\t}\r\n\t\tif (data.dataState == 4) {\r\n\t\t\tparams.dataStateBuy = 1;\r\n\t\t\tparams.contractAppraise = 0;\r\n\t\t} else {\r\n\t\t\tdelete params.dataStateBuy;\r\n\t\t\tdelete params.contractAppraise;\r\n\t\t}\r\n\t\t\r\n\t\tthis.current = Number(data.dataState);\r\n\t},\r\n\t\r\n\tonShow() {\r\n\t\tthis.commonMounted(this.current);\r\n\t},\r\n\tonReachBottom() {\r\n\t\t// 到这底部在这里需要做什么事情\r\n\t\tthis.loadMore();\r\n\t},\r\n\tdestroyed() {\r\n\t\tthis.page = 1;\r\n\t},\r\n\tmounted() {\r\n\t\t\r\n\t\t\r\n\t\t// http.get(myOrder.queryContractPage, params).then(res => {\r\n\t\t// \tif (res && res.rows) {\r\n\t\t// \t\tif (this.page === 1 && res.rows.length === 0) {\r\n\t\t// \t\t\tthis.orderList = [];\r\n\t\t// \t\t} else {\r\n\t\t// \t\t\tthis.orderList = res.rows;\r\n\t\t// \t\t\tthis.orderList.map(v => {\r\n\t\t// \t\t\t\tv.goodsList.map(val => {\r\n\t\t// \t\t\t\t\tif (!RegExp(/http/).test(val.dataPic)) {\r\n\t\t// \t\t\t\t\t\tval.dataPic = this.$domain + val.dataPic;\r\n\t\t// \t\t\t\t\t}\r\n\t\t// \t\t\t\t});\r\n\t\t// \t\t\t});\r\n\t\t// \t\t}\r\n\t\t\r\n\t\t// \t\tthis.total = res.total;\r\n\t\t// \t}\r\n\t\t// });\r\n\t},\r\n\twatch: {\r\n\t\tcurrent(val) {\r\n\t\t\tthis.lastPageLine = false;\r\n\t\t\tthis.orderList = [];\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tcommonMounted(current) {\r\n\t\t\tlet params = {\r\n\t\t\t\tpage: this.page,\r\n\t\t\t\trows: this.rows,\r\n\t\t\t\tchildFlag: true\r\n\t\t\t};\r\n\r\n\t\t\tif (current !== 0) {\r\n\t\t\t\tparams.dataState = this.dataState;\r\n\t\t\t} else {\r\n\t\t\t\tdelete params.dataState;\r\n\t\t\t}\r\n\t\t\tif (current == 4) {\r\n\t\t\t\tparams.dataStateBuy = 1;\r\n\t\t\t\tparams.contractAppraise = 0;\r\n\t\t\t} else {\r\n\t\t\t\tdelete params.dataStateBuy;\r\n\t\t\t\tdelete params.contractAppraise;\r\n\t\t\t}\r\n\r\n\t\t\thttp.get(myOrder.queryContractPage, params).then(res => {\r\n\t\t\t\tif (res && res.rows) {\r\n\t\t\t\t\tif (this.page === 1 && res.rows.length === 0) {\r\n\t\t\t\t\t\tthis.orderList = [];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet list = res.rows;\r\n\t\t\t\t\t\tlist.map(v => {\r\n\t\t\t\t\t\t\tv.goodsList.map(val => {\r\n\t\t\t\t\t\t\t\tv.goodsList.map(val => {\r\n\t\t\t\t\t\t\t\t\tif (!RegExp(/http/).test(val.dataPic)) {\r\n\t\t\t\t\t\t\t\t\t\tval.dataPic = this.$domain + val.dataPic;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (this.page === 1) {\r\n\t\t\t\t\t\t\tthis.orderList = list;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.orderList = [...this.orderList, ...list];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.total = res.total;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\torderTitle(item, index) {\r\n\t\t\tthis.current = index;\r\n\r\n\t\t\tif (index > 0) {\r\n\t\t\t\tthis.dataState = index;\r\n\t\t\t}\r\n\t\t\tthis.page = 1;\r\n\t\t\tthis.rows = 10;\r\n\t\t\tthis.commonMounted(this.current);\r\n\t\t},\r\n\t\tpay(order) {\r\n\t\t\tthis.$state.set('contractBillcode', order.contractBillcode);\r\n\t\t\t$router.push('pay/paySelect', {\r\n\t\t\t\tdataBmoney: order.dataBmoney,\r\n\t\t\t\tcontractBillcode: order.contractBillcode\r\n\t\t\t});\r\n\t\t},\r\n\t\tevaluate(order) {\r\n\t\t\tthis.$state.set('order', order);\r\n\t\t\tthis.$state.orderMenu.map(v => {\r\n\t\t\t\tif (v.menuAction == 'evaluate') {\r\n\t\t\t\t\t$router.push(v.menuJspath);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tqueryExpressInfo(order) {\r\n\t\t\tlet params = {\r\n\t\t\t\texpressType: order.packageList[0].expressCode,\r\n\t\t\t\texpressNo: order.packageList[0].packageBillno,\r\n\t\t\t\texpressName: order.packageList[0].expressName,\r\n\t\t\t\taddress: order.goodsReceiptArrdess,\r\n\t\t\t\timg: order.goodsList[0].dataPic,\r\n\t\t\t\tnum: order.goodsList.length\r\n\t\t\t};\r\n\t\t\t$router.push('logistics_modules/infor', params);\r\n\t\t\t//   this.$state.orderMenu.map(v => {\r\n\t\t\t//     if (v.menuAction == \"logisticsinfor\") {\r\n\t\t\t//       $router.push(v.menuJspath, params);\r\n\t\t\t//     }\r\n\t\t\t//   });\r\n\t\t},\r\n\t\tconfirmReceive(order) {\r\n\t\t\tlet that = this;\r\n\t\t\twx.showModal({\r\n\t\t\t\t//title: '提示',\r\n\t\t\t\tcontent: '确认收货',\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\thttp.post(myOrder.confirmReceive, {\r\n\t\t\t\t\t\t\tcontractBillcode: order.contractBillcode\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\t\tif (res && res.success) {\r\n\t\t\t\t\t\t\t\t\t$message.success('确认收货成功');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\tthat.page = 1;\r\n\t\t\t\t\t\t\t\tthat.commonMounted(that.current);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tcancelOrder(order) {\r\n\t\t\tlet that = this;\r\n\t\t\twx.showModal({\r\n\t\t\t\t//title: '提示',\r\n\t\t\t\tcontent: '取消订单',\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\thttp.post(myOrder.cancelContractC, { contractId: order.contractId })\r\n\t\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\t\tif (res.success) {\r\n\t\t\t\t\t\t\t\t\t$message.alert('取消成功!');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\t\tthat.page = 1;\r\n\t\t\t\t\t\t\t\tthat.commonMounted(that.current);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\taddShoppingGoods(order) {\r\n\t\t\t//该方法暂时不用\r\n\t\t\tlet goodsCode = [];\r\n\t\t\tlet specStr = [];\r\n\t\t\torder.goodsList.map(val => {\r\n\t\t\t\tgoodsCode.push(val.goodsCode);\r\n\t\t\t\tspecStr.push(val.skuName);\r\n\t\t\t});\r\n\t\t\tlet params = {\r\n\t\t\t\tgoodsCode: goodsCode.join(','),\r\n\t\t\t\tspecStr: JSON.stringify(specStr)\r\n\t\t\t};\r\n\r\n\t\t\thttp.post(addShoppingGoodsBySpec, params).then(res => {\r\n\t\t\t\thttp.post(addShoppingGoods, { skuId: res.dataObj.skuId, goodsNum: 1 }).then(res => {\r\n\t\t\t\t\tif (res.success) {\r\n\t\t\t\t\t\t$router.push('shopcart');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\torderDetail(order) {\r\n\t\t\tlet params = {\r\n\t\t\t\tcontractBillcode: order.contractBillcode,\r\n\t\t\t\texpressType: order.packageList[0].expressCode,\r\n\t\t\t\texpressNo: order.packageList[0].packageBillno\r\n\t\t\t};\r\n\t\t\tthis.$state.orderMenu.map(v => {\r\n\t\t\t\tif (v.menuAction == 'orderInfor') {\r\n\t\t\t\t\t$router.push(v.menuJspath, params);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\ttoSearch() {\r\n\t\t\t$router.push(this.$state.orderSearch);\r\n\t\t},\r\n\t\tloadMore() {\r\n\t\t\tlet num = Math.ceil(this.total / 10);\r\n\t\t\tthis.page++;\r\n\t\t\tif (this.page <= num) {\r\n\t\t\t\tthis.commonMounted(this.current);\r\n\t\t\t} else {\r\n\t\t\t\tthis.lastPageLine = true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../../../../common/css/common.less';\r\n.orderList {\r\n\twidth: 100%;\r\n\t&-save {\r\n\t\tposition: fixed;\r\n\t\tz-index: 9999;\r\n\t\theight: 90rpx;\r\n\t\twidth: 70rpx;\r\n\t\tline-height: 90rpx;\r\n\t\ttext-align: right;\r\n\t\tright: 30rpx;\r\n\t\ttop: 0;\r\n\t\tfont-size: @big-title;\r\n\t}\r\n\t&-tit {\r\n\t\twidth: 100%;\r\n\t\tposition: fixed;\r\n\t\ttop: 90rpx;\r\n\t\tleft: 0;\r\n\t\tz-index: 999;\r\n\t\tbackground: @white-color;\r\n\t\tpadding-top: 10rpx;\r\n\t\tul {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding: @padding-30;\r\n\t\t\theight: 90rpx;\r\n\t\t\tli {\r\n\t\t\t\theight: 90rpx;\r\n\t\t\t\ta {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tline-height: 90rpx;\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: @color-333;\r\n\t\t\t\t}\r\n\t\t\t\t.active {\r\n\t\t\t\t\t// color: #bfa676;\r\n\t\t\t\t\tspan {\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\theight: 3rpx;\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t// background: #bfa676;\r\n\t\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\t\tleft: 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t&-info {\r\n\t\tmargin-top: 190rpx;\r\n\t\tol {\r\n\t\t\tli {\r\n\t\t\t\tborder-bottom: 20rpx solid #fafafa;\r\n\t\t\t\tpadding: @padding-30;\r\n\t\t\t\tbackground: @white-color;\r\n\t\t\t\t&:first-child {\r\n\t\t\t\t\tborder-top: 20rpx solid #fafafa;\r\n\t\t\t\t}\r\n\t\t\t\t&:last-child {\r\n\t\t\t\t\tborder-bottom: 0;\r\n\t\t\t\t}\r\n\t\t\t\ta {\r\n\t\t\t\t\t.order-status {\r\n\t\t\t\t\t\theight: 79rpx;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\tborder-bottom: 1rpx solid #f6f6f8;\r\n\t\t\t\t\t\t> div {\r\n\t\t\t\t\t\t\tfont-size: @big-title;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.order-msg {\r\n\t\t\t\t\t\tpadding: 15rpx 0 48rpx 0;\r\n\t\t\t\t\t\tborder-bottom: 1rpx solid #f6f6f8;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\timg {\r\n\t\t\t\t\t\t\twidth: 130rpx;\r\n\t\t\t\t\t\t\theight: 130rpx;\r\n\t\t\t\t\t\t\tmargin-right: @margin-right;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t> div {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\t\tp {\r\n\t\t\t\t\t\t\t\tfont-size: @big-title;\r\n\t\t\t\t\t\t\t\tcolor: @color-333;\r\n\t\t\t\t\t\t\t\tmargin: 12rpx 0 25rpx 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t.currentP {\r\n\t\t\t\t\t\t\t\twidth: 380rpx;\r\n\t\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\th6 {\r\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t\tcolor: @color-999;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.order-btn {\r\n\t\t\t\t\t\theight: 88rpx;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\t.left {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\ti {\r\n\t\t\t\t\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t.right {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\t.btn {\r\n\t\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\t\tborder: 1rpx solid #d4d4d4;\r\n\t\t\t\t\t\t\t\tline-height: 46rpx;\r\n\t\t\t\t\t\t\t\tborder-radius: 26rpx;\r\n\t\t\t\t\t\t\t\tpadding: 0 20rpx;\r\n\t\t\t\t\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\t\t\t\t\tcolor: @color-666;\r\n\t\t\t\t\t\t\t\tmargin-right: @margin-right;\r\n\t\t\t\t\t\t\t\t&:last-child {\r\n\t\t\t\t\t\t\t\t\tmargin-right: 0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t&-nulls {\r\n\t\theight: calc(100% - 202rpx);\r\n\t\ttext-align: center;\r\n\t\timg {\r\n\t\t\twidth: 424rpx;\r\n\t\t\theight: 311rpx;\r\n\t\t\tmargin: 380rpx auto 0;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\n","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=afa1036e&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=afa1036e&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1610694823846\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}